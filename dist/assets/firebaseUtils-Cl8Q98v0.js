import{q as i,v as d,f as o,A as f,B as g,C as D,D as n,E as h,p as m}from"./index-Cw4i6T0x.js";const E=async(a,r)=>{try{if(!a||!a.uid)throw new Error("User must be logged in to save day data.");if(a&&!a.emailVerified)throw new Error("User email must be verified to save data.");const e=i(d,"users",a.uid,"days",r.date);return await m(e,{date:r.date,totalCalories:r.totalCalories},{merge:!0}),{success:!0,message:"Day data saved successfully."}}catch(e){return console.error("Error saving day data:",e),{success:!1,message:`Error saving day data: ${e.message}`}}},v=async(a,r,e)=>{try{if(!a||!a.uid)throw new Error("User must be logged in.");const t=g(d,"users",a.uid,"days"),l=D(t,n("date",">=",o(r)),n("date","<=",o(e))),y=await h(l),c=[];return y.forEach(u=>{const s=u.data();s&&s.totalCalories&&c.push({date:s.date,totalCalories:s.totalCalories})}),c}catch(t){return console.error("Error fetching day data:",t),[]}},p=async(a,r)=>{try{if(!a||!a.uid)throw new Error("User must be logged in.");if(!r)throw new Error("Date must be provided.");const e=i(d,"users",a.uid,"days",o(r));return(await f(e)).data()}catch(e){return console.error("Error fetching day data:",e),null}};export{p as a,v as g,E as s};
